<!doctype html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

    <link rel="shortcut icon" href="/img/icon.jpg" type="image/x-icon">
    <link rel="stylesheet" href="/css/home.css">

    <title>Search Employee</title>
</head>

<style>
    body {
        background-color: #f7faff;
    }
</style>

<body>

    <%- include('partials/header') -%>

        <div class="container my-5">

            <h1 class="text-center mb-4">Search Employee</h1>

            <form class="my-2 w-50 m-auto my-3" method="GET" action="/home/searchemp">
                <div class="form-group my-4">
                    <input type="text" class="form-control" name="name" placeholder="Name">
                </div>

                <button type="submit" class="btn btn-warning w-100">Search in Database</button>
            </form>

        </div>




        <div class="container m-auto my-5">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th scope="col">Name</th>
                        <th scope="col">Position</th>
                        <th scope="col">Contact</th>
                        <th scope="col">Joining date</th>
                        <th scope="col">Salary</th>
                        <th scope="col">Operation</th>
                    </tr>
                </thead>
                <% if(typeof(employee)!="string" ) { %>
                    <tbody>
                        <% employee.forEach(employee=>{ %>

                            <tr>
                                <td>
                                    <%= employee.name %>
                                </td>
                                <td>
                                    <%= employee.position %>
                                </td>
                                <td>
                                    <%= employee.contact %>
                                </td>
                                <td>
                                    <%= employee.joining_date %>
                                </td>
                                <td>
                                    <%= employee.salary %>
                                </td>

                                <td>
                                    <a class="btn btn-primary me-3" href="/home/update<%= employee.id%>">Edit</a>


                                    <form style="display: inline;"
                                        action="/home/delete<%= employee.id %>?_method=DELETE" method="POST">
                                        <input type="hidden" name="_method" value="DELETE">
                                        <button class="btn btn-danger">Delete</button>
                                    </form>
                                </td>
                            </tr>



                            <% }) %>


                    </tbody>
            </table>

        </div>


        <% if(Object.keys(employee).length==0) { %>
            <div class="container m-auto my-5 text-center">
                <div class="alert alert-danger font-weight-bold fs-4" role="alert">Sorry! No Employee Exist</div>

            </div>

            <% } %>


                <% } %>


                    <%- include('partials/footer') -%>